{"pages":[{"title":"categories","text":"","link":"/categories/index.html"}],"posts":[{"title":"Hola","text":"å¿ƒæƒ…ä¸å¥½ï½å†™ç‚¹ä»€ä¹ˆâ€¦","link":"/2019/03/01/Hola/"},{"title":"æ‹¾é—â€”â€”JavaScript-Promise","text":"","link":"/2019/03/10/æ‹¾é—â€”â€”JavaScript-Promise/"},{"title":"æ‹¾é—â€”â€”JavaScript-async/await","text":"async/await async/await åŒ Promiseã€callback ä¸€æ ·æ˜¯ä¸€ç§ç¼–å†™å¼‚æ­¥ä»£ç çš„æ–¹æ³•ã€‚ async/await å®é™…ä¸Šæ˜¯å»ºç«‹åœ¨promisesä¹‹ä¸Šçš„ï¼Œå…¶è¿”å›çš„æ˜¯ä¸€ä¸ªpromiseã€‚ async/await æ˜¯éé˜»å¡çš„ã€‚ async/await æ›´åƒæ˜¯åŒæ­¥ä»£ç ï¼Œå¦‚æœå¤šä¸ªå¼‚æ­¥ä»£ç æ²¡æœ‰ä¾èµ–æ€§å´ä½¿ç”¨äº† await ä¼šå¯¼è‡´æ€§èƒ½ä¸Šçš„é™ä½ã€‚ æè¿°å½“è°ƒç”¨ä¸€ä¸ª async å‡½æ•°æ—¶ï¼Œä¼šè¿”å›ä¸€ä¸ª Promise å¯¹è±¡ã€‚å½“è¿™ä¸ª async å‡½æ•°è¿”å›ä¸€ä¸ªå€¼æ—¶ï¼ŒPromise çš„ resolve æ–¹æ³•ä¼šè´Ÿè´£ä¼ é€’è¿™ä¸ªå€¼ï¼›å½“ async å‡½æ•°æŠ›å‡ºå¼‚å¸¸æ—¶ï¼ŒPromise çš„ reject æ–¹æ³•ä¹Ÿä¼šä¼ é€’è¿™ä¸ªå¼‚å¸¸å€¼ã€‚ async å‡½æ•°ä¸­å¯èƒ½ä¼šæœ‰ await è¡¨è¾¾å¼ï¼Œè¿™ä¼šä½¿ async å‡½æ•°æš‚åœæ‰§è¡Œï¼Œç­‰å¾… Promise çš„ç»“æœå‡ºæ¥ï¼Œç„¶åæ¢å¤asyncå‡½æ•°çš„æ‰§è¡Œå¹¶è¿”å›è§£æå€¼ï¼ˆresolvedï¼‰ã€‚ æ³¨æ„ï¼Œ await å…³é”®å­—ä»…ä»…åœ¨ async functionä¸­æœ‰æ•ˆã€‚å¦‚æœåœ¨ async functionå‡½æ•°ä½“å¤–ä½¿ç”¨ await ï¼Œä½ åªä¼šå¾—åˆ°ä¸€ä¸ªè¯­æ³•é”™è¯¯ï¼ˆSyntaxErrorï¼‰ã€‚ https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/async_function ğŸŒ°å‡è®¾ä¸€ä¸ªå‡½æ•°getJsonData() æ¥è·å–Jsonæ•°æ®ã€‚ promise 123456const request = (url)=&gt;&#123; getJsonData(url).then(response =&gt; &#123; console.log(response.data) &#125;)&#125; async/await 1234const request = async (url) =&gt; &#123; console.log(await getJsonData(url));&#125; çœ‹è¿™æ ·çœ‹èµ·æ¥ï¼Œasync/await æ˜¯ä¸æ˜¯ç®€æ´äº†å¾ˆå¤šï¼Ÿ æ¯•ç«Ÿå†™ä¸€å † then ä¹Ÿæ˜¯å¾ˆçƒ¦çš„ã€‚ é”™è¯¯å¤„ç† (try/catch)12 async/await hell async/await æŠŠæˆ‘ä»¬ä»æ›¾ç»çš„callback hell ä¸­è§£æ”¾ï¼Œè€Œç°åœ¨ï¼Œæˆ‘ä»¬é™·å…¥äº†async/await hellã€‚","link":"/2019/03/12/æ‹¾é—â€”â€”JavaScript-async-await/"},{"title":"æ‹¾é—â€”â€”JavaScript-var/let/const","text":"å˜é‡çš„å£°æ˜æ–¹å¼varå£°æ˜å±€éƒ¨å˜é‡å’Œå…¨å±€å˜é‡ã€‚ letå£°æ˜ä¸€ä¸ªå—çº§ä½œç”¨åŸŸçš„å±€éƒ¨å˜é‡ã€‚ constå£°æ˜ä¸€ä¸ªå—çº§ä½œç”¨åŸŸçš„åªè¯»å¸¸é‡(éœ€è¦åˆå§‹å€¼)ã€‚ å˜é‡æå‡123console.log(a);var a = 1; // undefined å®é™…ä¸Šä¸Šéƒ¨åˆ†çš„ä»£ç å¯ä»¥ç†è§£ä¸º:123var a;console.log(a); a = 1; è¿™å°±æ˜¯å˜é‡æå‡ã€‚ å¯¹äºå‡½æ•°æ¥è¯´ï¼Œåªæœ‰å‡½æ•°å£°æ˜ä¼šè¢«æå‡åˆ°é¡¶éƒ¨ï¼Œè€Œå‡½æ•°è¡¨è¾¾å¼ä¸ä¼šè¢«æå‡ã€‚ 12345baz(); // baz is not a functionvar baz = function() &#123;console.log(\"bar2\"); &#125;; æš‚æ—¶æ€§æ­»åŒºletï¼ˆconstï¼‰å°†ä¸ä¼šæå‡å˜é‡åˆ°ä»£ç å—çš„é¡¶éƒ¨ã€‚å› æ­¤ï¼Œåœ¨å˜é‡å£°æ˜ä¹‹å‰å¼•ç”¨è¿™ä¸ªå˜é‡ï¼Œå°†æŠ›å‡ºå¼•ç”¨é”™è¯¯ï¼ˆReferenceErrorï¼‰ã€‚è¿™ä¸ªå˜é‡å°†ä»ä»£ç å—ä¸€å¼€å§‹çš„æ—¶å€™å°±å¤„åœ¨ä¸€ä¸ªâ€œæš‚æ—¶æ€§æ­»åŒºâ€ï¼Œç›´åˆ°è¿™ä¸ªå˜é‡è¢«å£°æ˜ä¸ºæ­¢ã€‚ 123console.log(a);let a = 1; //a is not defined","link":"/2019/04/27/æ‹¾é—â€”â€”JavaScript-var-let-const/"},{"title":"æ‹¾é—â€”â€”JavaScript æ·±ã€æµ…æ‹·è´","text":"æ•°æ®ç±»å‹JavaScriptä¸­å˜é‡çš„æ•°æ®ç±»å‹åˆ†ä¸¤ç§ï¼š åŸºæœ¬ç±»å‹ ï¼ˆå­˜å‚¨ä¸æ ˆå†…å­˜ä¸­ï¼Œå€¼å­˜å‚¨ï¼‰ å¼•ç”¨ç±»å‹ ï¼ˆå­˜å‚¨å †å†…å­˜ä¸­ï¼Œé€šè¿‡æŒ‡é’ˆå»å¯»æ‰¾æ‰€æŒ‡å‘çš„å†…å­˜ç©ºé—´ï¼‰ å¯¹äºå€¼ç±»å‹çš„å¤åˆ¶æ“ä½œæ˜¯ç›´æ¥å †å˜é‡çš„å€¼è¿›è¡Œæ‹·è´ï¼›å¯¹äºå¼•ç”¨ç±»å‹çš„å¤åˆ¶æ“ä½œæ˜¯å¯¹å­˜å‚¨å˜é‡çš„æŒ‡é’ˆè¿›è¡Œæ‹·è´ï¼ŒæŒ‡å‘åŒä¸€å†…å­˜ç©ºé—´ï¼Œä¿®æ”¹å…¶ä¸­ä¸€ä¸ªä¼šå½±å“å¦ä¸€æ–¹ã€‚ æ·±æµ…æ‹·è´åªé’ˆå¯¹äºArrayã€Object è¿™æ ·å¤æ‚çš„å¯¹è±¡ æµ…æ‹·è´åªæ‹·è´åŸºæœ¬ç±»å‹çš„æ•°æ®ï¼Œå¯¹äºå¼•ç”¨çš„ç±»å‹æ•°æ®ï¼Œå¤åˆ¶åä¹Ÿæ˜¯ä¼šå‘ç”Ÿå¼•ç”¨ï¼Œè¿™ç§æ‹·è´å°±å«åšæµ…æ‹·è´ ğŸŒ°ï¼š å¯¹äºå¯¹è±¡æ¥è¯´ï¼Œå¯ä»¥é€šè¿‡Object.assign()ã€...æ¥å®ç°æµ…æ‹·è´1ã€Object.assign()1234567let obj = &#123; name: \"ken\"&#125;let newObj = Object.assign(&#123;&#125;, obj);obj.name = \"obi\";console.log(obj.name); // name:obiconsole.log(newObj.name); // name: ken 2ã€...å±•å¼€è¿ç®—ç¬¦123456789let obj = &#123; name: \"ken\"&#125;let newObj = &#123; ...obj&#125;;obj.name = \"obi\";console.log(obj.name); // name:obiconsole.log(newObj.name); // name: ken ğŸŒ°ï¼šå¯¹äºæ•°ç»„ï¼Œå¯ä»¥é€šè¿‡concat()ã€slice() æ¥å®ç°æµ…æ‹·è´1ã€concat()concat() æ–¹æ³•ç”¨äºåˆå¹¶ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„ã€‚æ­¤æ–¹æ³•ä¸ä¼šæ›´æ”¹ç°æœ‰æ•°ç»„ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚concatæ–¹æ³•ä¸ä¼šæ”¹å˜thisæˆ–ä»»ä½•ä½œä¸ºå‚æ•°æä¾›çš„æ•°ç»„ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæµ…æ‹·è´ï¼Œå®ƒåŒ…å«ä¸åŸå§‹æ•°ç»„ç›¸ç»“åˆçš„ç›¸åŒå…ƒç´ çš„å‰¯æœ¬ã€‚ åŸå§‹æ•°ç»„çš„å…ƒç´ å°†å¤åˆ¶åˆ°æ–°æ•°ç»„ä¸­ã€‚ https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/concat 12345let arr = [1, 2, 3];let newArr = arr.concat();arr.push(4);console.log(arr); //[1,2,3,4]console.log(newArr); //[1,2,3] 2ã€slice()slice() æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„å¯¹è±¡ï¼Œè¿™ä¸€å¯¹è±¡æ˜¯ä¸€ä¸ªç”± beginå’Œ endï¼ˆä¸åŒ…æ‹¬endï¼‰å†³å®šçš„åŸæ•°ç»„çš„æµ…æ‹·è´ã€‚åŸå§‹æ•°ç»„ä¸ä¼šè¢«æ”¹å˜ã€‚ https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/slice 12345let arr = [1, 2, 3];let newArr = arr.slice();arr.push(4);console.log(arr); //[1,2,3,4]console.log(newArr); //[1,2,3] å½“é¢å¯¹å¤æ‚ä¸€ç‚¹çš„å¯¹è±¡æˆ–è€…æ•°ç»„ï¼Œä½¿ç”¨ Object.assign(),Array.slice() ä¼šæ€ä¹ˆæ ·ï¼Ÿä¾‹å¦‚:1234567891011121314let obj = &#123; a: 1, b: 2, c: &#123; d: 1, e: 2 &#125;&#125;let newObj = Object.assign(&#123;&#125;, obj);obj.a = 2;newObj.c.d = 2;console.log(obj); // &#123;a:2,b:2,c:&#123;d:2,e:2&#125;&#125;console.log(newObj); // &#123;a:1,b:2,c:&#123;d:2,e:2&#125;&#125; 12345678let arr = [1, 2, [1, 2], 3];let newArr = arr.concat();arr.push(4);arr[2].push(3);console.log(arr); //[1,2,[1,2,3],3,4]console.log(newArr); //[1,2,[1,2,3],3] ä»£ç é‡Œä¿®æ”¹äº†obj.açš„å€¼ï¼Œå¹¶æ²¡å¯¹newObjé€ æˆå½±å“ï¼Œè€Œä¿®æ”¹äº†newObj.c.dçš„å€¼ï¼Œobj.c.dçš„å€¼ä¹Ÿéšç€æ”¹å˜ã€‚è¿™æ˜¯å› ä¸ºObject.assign()æ˜¯æµ…æ‹·è´ï¼Œåªæ‹·è´äº†ä¸€å±‚ï¼Œå¯¹äºobj.cæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥newObj.cå­˜å‚¨çš„æ˜¯æŒ‡å‘obj.cæ‰€æŒ‡å‘çš„æŒ‡é’ˆåœ°å€ã€‚åŒç†...å±•å¼€è¿ç®—ç¬¦ã€Array.concat()/Array.slice() æ·±æ‹·è´è§£å†³ä¸Šè¿°é—®é¢˜æœ€å¸¸è§çš„å®ç°æ–¹å¼å°±æ˜¯ï¼šJSON.parse(JSON.stringify(object)) 123456789101112131415let obj = &#123; a: 1, b: 2, c: &#123; d: 1, e: 2 &#125;&#125;let newObj = JSON.parse(JSON.stringify(obj));obj.a = 2;newObj.c.d = 2;console.log(obj); //&#123;a:2,b:2,c:&#123;d:1,e:2&#125;&#125;console.log(newObj); //&#123;a:1,b:2,c:&#123;d:2,e:2&#125;&#125; å½“ç„¶ï¼Œå¯¹è±¡çš„åºåˆ—åŒ–ååºåˆ—åŒ–JSON.parse(JSON.stringify())å¹¶ä¸æ˜¯ä¸‡èƒ½çš„ã€‚ å¿½ç•¥ undefined å¿½ç•¥ symbol ä¸èƒ½åºåˆ—åŒ–å‡½æ•° ä¸èƒ½è§£å†³å¾ªç¯å¼•ç”¨çš„å¯¹è±¡ https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify 1234567891011121314151617181920212223242526let obj = &#123; a: () =&gt; &#123; console.log('copy'); &#125;, b: undefined, c: Symbol, d: 'obi'&#125;let newObj = JSON.parse(JSON.stringify(obj))console.log(newObj); // &#123;d:obi&#125; å¿½ç•¥undefinedã€symbolã€ä¸èƒ½åºåˆ—åŒ–åŒ–å‡½æ•°let obj = &#123; a: 1, b: &#123; c: 2 &#125;&#125;obj.c = obj.b; // `obj.c` å¼•ç”¨ `obj.b`obj.b.c = obj.c; // `obj.b.c` åˆå¼•ç”¨ `obj.c`let newObj = JSON.parse(JSON.stringify(obj));console.log(newObj); // ç›´æ¥æŠ¥é”™ å®ç°ç®€æ˜“çš„æµ…æ‹·è´ã€æ·±æ‹·è´æµ…æ‹·è´123456789101112131415161718192021const fn = (data, target = &#123;&#125;) =&gt; &#123; for (let item in data) &#123; if (data.hasOwnProperty(item)) &#123; target[item] = data[item] &#125; &#125; return target&#125;let obj = &#123; a: 1, b: 2&#125;let newObj = fn(obj);obj.a = 2;console.log(obj); //&#123;a:2,b:2&#125;console.log(newObj); //&#123;a:1,b:2&#125; æµ…æ‹·è´å°±æ˜¯ä¸€ä¸ªfor..inå¾ªç¯,Object.prototype.hasOwnPropertyçš„ä½œç”¨æ˜¯æ£€æµ‹ç›®æ ‡æ˜¯å¦å±äºè‡ªæœ‰å±æ€§,æ˜¯åˆ™å¤åˆ¶ æ·±æ‹·è´123456789101112131415161718192021222324252627282930const isObj = (o) =&gt; &#123; return ((typeof o === 'object') || (typeof o === 'function') &amp;&amp; o !== null)&#125;const deepClone = (obj) =&gt; &#123; if (!isObj(obj)) &#123; throw new Error('not a Objectï¼') &#125; let newObj = Array.isArray(obj) ? [] : &#123;&#125; // åˆ¤æ–­æ˜¯å¦æ˜¯æ•°ç»„æˆ–è€…æ˜¯å¯¹è±¡,è®¾ç½®åˆå§‹å€¼ä¸ºç©ºå€¼ Object.keys(obj).forEach(key =&gt; &#123; newObj[key] = isObj(obj[key]) ? deepClone(obj[key]) : obj[key]; &#125;) return newObj;&#125;let obj = &#123; a: [1, 2, 3], b: &#123; c: 2, d: 3 &#125;&#125;let newObj = deepClone(obj)newObj.b.c = 1console.log(obj.b.c) // 2console.log(newObj.b.c) // 1 è¿™åªæ˜¯ç®€å•çš„æ·±æ‹·è´ï¼Œæœªè€ƒè™‘å…¶ä»–æƒ…å†µï¼Œå…¶ä½™å¦åšæ¢ç©¶ã€‚ å‚è€ƒæ¥è‡ªGoogleã€MDN","link":"/2019/03/05/æ‹¾é—â€”â€”JavaScript-æ·±ã€æµ…æ‹·è´/"},{"title":"æ‹¾é—â€”â€”webpack4ï¼ˆä¸€ï¼‰å…¥é—¨","text":"webpack4 åˆä½“éªŒwebpack æ˜¯ä¸€ä¸ªç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å·¥å…·ã€‚å½“ webpack å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šåœ¨å†…éƒ¨æ„å»ºä¸€ä¸ª ä¾èµ–å›¾(dependency graph)ï¼Œæ­¤ä¾èµ–å›¾ä¼šæ˜ å°„é¡¹ç›®æ‰€éœ€çš„æ¯ä¸ªæ¨¡å—ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ª bundleã€‚ ä»4.0ç‰ˆæœ¬å¼€å§‹ï¼Œwebpack æŠ›å¼ƒä»¥å‰ç‰ˆæœ¬çš„é‚£ç§ç¹çã€æ™¦æ¶©ä»¤åˆå­¦è€…æ€¯æ­¥çš„é…ç½®æ–‡ä»¶ï¼Œå¼€å§‹é›¶é…ç½®é æ‹¢ï¼› è¿™æ— ç–‘å¯¹äºåˆå­¦è€…æ¥è¯´ï¼Œäº²å’ŒåŠ›ä¸Šäº†ä¸€å±‚æ¥¼ã€‚ ä½†å®ƒä»ç„¶å…·æœ‰å¯é…ç½®æ€§æ»¡è¶³å¤šç§éœ€æ±‚ã€‚ åœ¨å¼€å§‹ä¹‹å‰å…ˆäº†è§£æ ¸å¿ƒæ¦‚å¿µ å…¥å£ï¼ˆentryï¼‰ è¾“å‡ºï¼ˆoutputï¼‰ loader æ’ä»¶ï¼ˆpluginï¼‰ æ¨¡å¼ï¼ˆmodeï¼‰ æµè§ˆå™¨å…¼å®¹æ€§ï¼ˆbowser compatibilityï¼‰ é¡¹ç›®æ­å»ºåˆ›å»ºç©ºæ–‡ä»¶å¤¹webpack_demoï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ç”Ÿæˆpackage.json1npm init æˆ–è€… npm init -y Tip-y å‚æ•°è¡¨ç¤ºæ‰€æœ‰package.json å‚ä¸ºé»˜è®¤ å¼•å…¥ webpack 1npm install webpack --save-dev è¿™é‡Œè¿˜éœ€è¦ä½¿ç”¨webpack-cliè„šæ‰‹æ¶ 1npm install webpack-cli --save-dev æŸ¥çœ‹package.jsonæ–‡ä»¶å¯ä»¥çœ‹åˆ°ç›®å‰ä½¿ç”¨çš„ç‰ˆæœ¬12345\"devDependencies\": &#123; \"webpack\": \"^4.30.0\", \"webpack-cli\": \"^3.3.0\" &#125; æ¥ä¸‹æ¥åœ¨packege.json ä¸­å¢åŠ npm scripts 12345\"scripts\": &#123; \"build\": \"webpack\", \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\" &#125; åˆ°è¿™é‡ŒåŸºæœ¬çš„é¡¹ç›®æ­å»ºå®Œæ¯•ï¼Œè¿è¡Œ npm run build å‘½ä»¤çœ‹çœ‹æ•ˆæœã€‚ ä»å›¾ç‰‡é‡Œçš„æŠ¥é”™ä¿¡æ¯å¯ä»¥å¾—çŸ¥ï¼šâ€œæœªèƒ½æ‰¾åˆ°å…¥å£æ–‡ä»¶â€ å›åˆ°æ–‡ç« å¼€å§‹è®²çš„ï¼šwebpackä¸­çš„æ ¸å¿ƒæ¦‚å¿µï¼šå…¥å£(entry) å…¥å£(entry)å…¥å£èµ·ç‚¹(entry point)æŒ‡ç¤º webpack åº”è¯¥ä½¿ç”¨å“ªä¸ªæ¨¡å—ï¼Œæ¥ä½œä¸ºæ„å»ºå…¶å†…éƒ¨ ä¾èµ–å›¾(dependency graph) çš„å¼€å§‹ã€‚è¿›å…¥å…¥å£èµ·ç‚¹åï¼Œwebpack ä¼šæ‰¾å‡ºæœ‰å“ªäº›æ¨¡å—å’Œåº“æ˜¯å…¥å£èµ·ç‚¹ï¼ˆç›´æ¥å’Œé—´æ¥ï¼‰ä¾èµ–çš„ã€‚ https://webpack.docschina.org/concepts/#%E5%85%A5%E5%8F%A3-entry- webpackçš„å…¥å£é»˜è®¤æ˜¯ .src/index.js ,ä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡webpack.config.js ä¸­å»é…ç½®æŒ‡å®šå…·ä½“çš„å…¥å£èµ·ç‚¹ã€‚ webpack.config.js12345module.exports = &#123; entry: &#123; app: \"./app.js\" &#125;&#125; ç°åœ¨æ–°å»ºä¸€ä¸ªsrcç›®å½•å¹¶æ·»åŠ å…¥å£æ–‡ä»¶ index.js è¿è¡Œnpm run build,å¯ä»¥çœ‹åˆ°æ§åˆ¶å°è¾“å‡ºæ‰“åŒ…æˆåŠŸ å¹¶åœ¨ç›®å½•ä¸‹åˆ›å»ºäº†distæ–‡ä»¶å¤¹å’Œé‡Œé¢å·²ç»æ‰“åŒ…å‹ç¼©å¥½çš„æ–‡ä»¶main.js è¿™é‡Œè®²ä¸€ä¸ªwebpackçš„ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼šè¾“å‡ºï¼ˆoutputï¼‰ è¾“å‡º(output)output å±æ€§å‘Šè¯‰ webpack åœ¨å“ªé‡Œè¾“å‡ºå®ƒæ‰€åˆ›å»ºçš„ bundleï¼Œä»¥åŠå¦‚ä½•å‘½åè¿™äº›æ–‡ä»¶ã€‚ä¸»è¦è¾“å‡ºæ–‡ä»¶çš„é»˜è®¤å€¼æ˜¯ ./dist/main.jsï¼Œå…¶ä»–ç”Ÿæˆæ–‡ä»¶é»˜è®¤æ”¾ç½®åœ¨ ./dist æ–‡ä»¶å¤¹ä¸­ã€‚ https://webpack.docschina.org/concepts/#%E5%85%A5%E5%8F%A3-entry- åŒæ ·æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨webpack.config.js ä¸­å»è‡ªå®šä¹‰è¾“å‡ºç‚¹(output) webpack.config.js1234567module.exports = &#123; output: &#123; publicPath: __dirname + '/dist/', // js å¼•ç”¨çš„è·¯å¾„æˆ–è€…CDNåœ°å€ path: path.resolve(__dirname, 'dist'), // æ‰“åŒ…æ–‡ä»¶çš„è¾“å‡ºç›®å½• filename: 'bundle.js' // æ‰“åŒ…åç”Ÿäº§çš„jsæ–‡ä»¶ &#125;&#125; æ¨¡å¼(mode)å‰é¢è¿è¡Œnpm run build çš„è¿‡ç¨‹ä¸­ï¼Œè™½ç„¶æ‰“åŒ…æˆåŠŸï¼Œä½†æ˜¯æ§åˆ¶å°è¿˜è¾“å‡ºå‡ è¡Œè­¦å‘Šä¿¡æ¯: â€œæ²¡æœ‰è®¾ç½®mode optionâ€ è¿™é‡Œå°±è¦è®²åˆ°webpackä¸­çš„ä¸€ä¸ªæ ¸å¿ƒç‚¹ï¼šmodeï¼Œ production development æˆ‘ä»¬å¯ä»¥åœ¨npm scripts ä¸­å‘Šè¯‰webpack-cli ä»¥ä»€ä¹ˆæ ·çš„modeå»æ„å»ºä¾‹å¦‚:1234567&#123;\"scripts\": &#123; \"dev\": \"webpack --mode development\", \"build\": \"webpack --mode production\", \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\" &#125;&#125; æˆ–è€…åœ¨webpack.config.jsä¸­è®¾ç½®123module.exports = &#123; mode: \"production\"&#125; å¦‚æœä¸è®¾ç½®çš„è¯ï¼Œé»˜è®¤modeä¸ºproduction ç°åœ¨æˆ‘ä»¬æ¥çœ‹çœ‹ä¸¤ä¸­æ¨¡å¼ä¸‹çš„ç®€å•åŒºåˆ« æ‰§è¡Œ npm run dev æ‰§è¡Œ npm run build é€šè¿‡å¯¹æ¯”ï¼Œåœ¨devæ¨¡å¼ä¸‹ï¼Œjsæ–‡ä»¶æ²¡æœ‰è¢«å‹ç¼© ä¸€ä¸ªå®Œæ•´çš„Webé¡¹ç›®é™¤äº†jsè„šæœ¬æ–‡ä»¶ï¼Œåº”è¯¥è¿˜åŒ…å«æœ‰CSSã€HTMLä»¥åŠå…¶ä»–èµ„æºï¼Œå¦‚å›¾ç‰‡ã€å­—ä½“ç­‰;é‚£ä¹ˆåœ¨webpackä¸­å¦‚ä½•å»å¤„ç†è¿™äº›èµ„æºå‘¢ï¼Ÿé¦–å…ˆä»å¤„ç†CSSå¼€å§‹ loaderwebpack åªèƒ½ç†è§£ JavaScript å’Œ JSON æ–‡ä»¶ã€‚loader è®© webpack èƒ½å¤Ÿå»å¤„ç†å…¶ä»–ç±»å‹çš„æ–‡ä»¶ï¼Œå¹¶å°†å®ƒä»¬è½¬æ¢ä¸ºæœ‰æ•ˆ æ¨¡å—ï¼Œä»¥ä¾›åº”ç”¨ç¨‹åºä½¿ç”¨ï¼Œä»¥åŠè¢«æ·»åŠ åˆ°ä¾èµ–å›¾ä¸­ã€‚ https://webpack.docschina.org/concepts/#loader 1ã€æ·»åŠ style.css2ã€å¤„ç†csséœ€è¦å®‰è£…ä»¥ä¸‹loaderé…åˆä½¿ç”¨ï¼Œæ‰§è¡Œnpm i --save-dev style-loader css-loader css-loaderï¼šè§£æCSSä»£ç ï¼Œå¤„ç†CSSä¸­çš„ä¾èµ–ï¼ˆ@importã€url()ç­‰ï¼‰ style-loaderï¼šå°†css-loaderè§£æç»“æœè½¬å˜ä¸ºjså¹¶åŠ¨æ€æ’å…¥styleæ ‡ç­¾ 123456\"devDependencies\": &#123; \"css-loader\": \"^2.1.1\", \"style-loader\": \"^0.23.1\", \"webpack\": \"^4.30.0\", \"webpack-cli\": \"^3.3.0\" &#125; 3ã€é…ç½®webpack.config.js 1234567891011module.exports = &#123; module: &#123; rules: [&#123; test: /\\.css$/, use: [ 'style-loader', 'css-loader' ] &#125;] &#125;&#125; 4ã€style.css 123.hola &#123; color: blue&#125; 5ã€åœ¨index.jsä¸­ å¼•å…¥style.css 1import './style.css'; 6ã€æ‰§è¡Œnpm run build 7ã€åœ¨index.htmlä¸­å¼•å…¥æ‰“åŒ…å¥½çš„æ–‡ä»¶bundle.js 8ã€åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€index.html,åœ¨æ§åˆ¶å°å¯ä»¥çœ‹åˆ°cssæ ·å¼å·²ç»é€šè¿‡&lt;style&gt; æ ‡ç­¾æ³¨å…¥ å¤„ç†sassã€lessï¼Œå¯ä»¥ä½¿ç”¨less-loader\\sass-loader æ’ä»¶ï¼ˆpluginï¼‰åœ¨htmlæ–‡ä»¶ä¸­å¼•å…¥æ‰“åŒ…å¥½åçš„jsæ–‡ä»¶ï¼Œå¦‚æœæ›´æ”¹äº†æ‰“åŒ…åçš„æ–‡ä»¶åç§°æˆ–è€…ä»£ç åˆ†å‰²æˆå¤šä¸ªæ–‡ä»¶ï¼Œåˆè¦å»ä¸€ä¸ªä¸ªå¼•å…¥ï¼Œç”šæ˜¯éº»çƒ¦ï¼Œè¿™ä¸ªæ—¶å€™å°±è¦ä½¿ç”¨html-webpack-pluginï¼Œæ‰“åŒ…å®Œä¹‹åè‡ªåŠ¨ç”Ÿæˆ HTML æ–‡ä»¶ï¼Œå¹¶è‡ªåŠ¨å¼•å…¥æ‰“åŒ…åçš„ js æ–‡ä»¶ã€‚ 1ã€æ‰§è¡Œnpm i html-webpack-plugin html-loader --save-dev2ã€é…ç½®webpack.config.js 3ã€æ‰§è¡Œnpm run build4ã€åœ¨distæ–‡ä»¶å¤¹ä¸‹æ‰“å¼€index.html è¦éƒ¨ç½²åˆ°æœåŠ¡å™¨å‰ï¼Œè¿™é‡Œè¦æŠŠwebpackçš„outputæ”¹ä¸ºç›¸å¯¹è·¯å¾„publicPath:&#39;./&#39;","link":"/2019/03/02/æ‹¾é—â€”â€”webpack4ï¼ˆä¸€ï¼‰å…¥é—¨/"},{"title":"æ‹¾é—â€”â€”webpack4ï¼ˆä¸‰ï¼‰å¤„ç†å›¾ç‰‡","text":"","link":"/2019/03/05/æ‹¾é—â€”â€”webpack4ï¼ˆä¸‰ï¼‰å¤„ç†å›¾ç‰‡/"},{"title":"æ‹¾é—â€”â€”webpack4ï¼ˆäºŒï¼‰Babel","text":"BabelBabel æ˜¯ä»€ä¹ˆï¼Ÿä¸»è¦ç”¨äºå°† ECMAScript 2015+ ç‰ˆæœ¬çš„ä»£ç è½¬æ¢ä¸ºå‘åå…¼å®¹çš„ JavaScript è¯­æ³•ï¼Œä»¥ä¾¿èƒ½å¤Ÿè¿è¡Œåœ¨å½“å‰å’Œæ—§ç‰ˆæœ¬çš„æµè§ˆå™¨æˆ–å…¶ä»–ç¯å¢ƒä¸­ã€‚ 1ã€æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…æ‰€éœ€è¦çš„package 12npm install --save-dev babel-loader @babel/core @babel/preset-envnpm install --save @babel/polyfill babel-loader : è¿™æ˜¯Webpackçš„Babelæ’ä»¶ï¼Œå®ƒå°†è¢«æ·»åŠ åˆ°Webpacké…ç½®ä¸­ï¼Œä»¥æŒ‡ç¤ºå®ƒåœ¨æ†ç»‘è¿‡ç¨‹ä¸­é€šè¿‡Babelè¿è¡Œç›®æ ‡æ–‡ä»¶ï¼› @babel/core @babel/preset-envï¼šé€šè¿‡æ ¹æ®ç›®æ ‡æµè§ˆå™¨æˆ–è¿è¡Œæ—¶ç¯å¢ƒè‡ªåŠ¨ç¡®å®šæ‰€éœ€çš„Babelæ’ä»¶å’Œpolyfillï¼Œå°†ä»£ç ç¼–è¯‘ä¸ºES5 @babel/polyfillï¼šå«ç‰‡ï¼Œè½¬åŒ–ES6å†…ç½®è¯­æ³•ï¼ˆArray.from,Object.assignç­‰ï¼‰ 1234567891011\"devDependencies\": &#123; \"@babel/core\": \"^7.4.3\", \"@babel/preset-env\": \"^7.4.3\", \"babel-loader\": \"^8.0.5\", \"clean-webpack-plugin\": \"^2.0.1\", \"webpack\": \"^4.30.0\", \"webpack-cli\": \"^3.3.0\" &#125;, \"dependencies\": &#123; \"@babel/polyfill\": \"^7.4.3\" &#125; 2ã€æ–°å»ºbabelé…ç½®æ–‡ä»¶.babelrc æ¥é…ç½®babel 123&#123; \"presets\": [\"@babel/preset-env\"]&#125; 3ã€åœ¨webpack.config.jsä¸­é…ç½®babel-loader 1234567module: &#123; rules: [&#123; test: /\\.js$/, //åŒ¹é…jsæ–‡ä»¶ exclude: /node_modules/, //å¿½ç•¥ç›®æ ‡æ–‡ä»¶å¤¹ loader: \"babel-loader\" // ä½¿ç”¨babel-loader &#125;] &#125; 4ã€éªŒè¯ åœ¨index.jsä¸­ä½¿ç”¨ES6è¯­æ³• 12345// import '@babel/polyfill'const arr = ['1', '2', '3'];const fn = () =&gt; console.log(...arr);fn(); è¿™é‡Œè¿˜éœ€è¦import &#39;@babel/polyfill&#39; å…¨å±€å¼•å…¥æ‰“åŒ…åä½“ç§¯å¤§ã€æ ¹æ®éœ€è¦è½¬è¯‘çš„æ–‡ä»¶æŒ‰éœ€å¼•ç”¨åˆå¾ˆéº»çƒ¦ï¼Œè¿™é‡Œåªéœ€è¦é…ç½®ä¸€ä¸‹babelrcï¼Œbabelè‡ªåŠ¨è½¬è¯‘ .babelrc 123456789101112&#123; \"presets\": [ [ \"@babel/preset-env\", &#123; \"useBuiltIns\": \"usage\", \"corejs\": \"3\" //ä½¿ç”¨core-js@3ç‰ˆæœ¬ &#125; ] ]&#125; è¿™é‡Œé‡åˆ°ä¸€ä¸ªå°å‘ï¼Œé…ç½®å®Œ.babelrcåæ‰§è¡Œnpm run buildï¼Œæ§åˆ¶å°é¦–å…ˆä¼šæç¤ºä¸€æ®µè­¦å‘Š: å¤§æ¦‚æ„æ€å°±æ˜¯æŒ‡å®šç”¨ä»€ä¹ˆç‰ˆæœ¬çš„core-js,é»˜è®¤ä½¿ç”¨core-js@2ç‰ˆæœ¬ ç„¶åæŠ¥é”™ è¿™é‡Œé…ç½®ä¸€ä¸‹core-jsçš„ç‰ˆæœ¬ æ‰§è¡Œnpm run build æµè§ˆå™¨ä¸­æ‰“å¼€distæ–‡ä»¶å¤¹ä¸‹çš„index.htmlï¼ŒæŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºã€‚ Chromeæœ€æ–°ç‰ˆæ˜¯æ”¯æŒES6è¯­æ³•çš„ï¼Œæœ€å¥½çš„è¿˜æ˜¯åœ¨IEä¸‹æµ‹è¯•ã€‚","link":"/2019/03/04/æ‹¾é—â€”â€”webpack4ï¼ˆäºŒï¼‰Babel/"}],"tags":[],"categories":[{"name":"Web","slug":"Web","link":"/categories/Web/"},{"name":"Javascript","slug":"Web/Javascript","link":"/categories/Web/Javascript/"},{"name":"Webpack","slug":"Web/Webpack","link":"/categories/Web/Webpack/"}]}